
$g.pushScope ()

#include <stdio.h>

  $g.defsynonym identity âŸ¨function â€œidentityâ€
                                   âŸ¨*od âŸ¨char @Â¹ _ _âŸ©âŸ© // param - c
                                   âŸ¨*od âŸ¨char @Â¹ _ _âŸ©âŸ©âŸ© // return type - char
    âŸª
     $g.pushScope (identity) âŸª
char identity (char c) {
       $g.defsynonym c âŸ¨char @Â¹ param 1âŸ©âŸ© âŸª
        $s.ensureInScope c âŸª
         $ir.beginFunction â€œidentityâ€ 1 âŸª
  return c;
          $ir.return âŸ¨od char @Â¹ param 1âŸ© âŸª
           $g.popScope () âŸª
            $ir.endFunction â€œidentityâ€ 1
}
             âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«

int main (int argc, char **argv) {
  $g.defsynonym main âŸ¨function â€œmainâ€
                               âŸ¨*od âŸ¨int @Â¹ _ _âŸ©âŸ¨char @Â² _ _âŸ©âŸ© // params - argc, argv
                               âŸ¨*od âŸ¨void _ _ _âŸ©âŸ©âŸ© // return type - none (void) âŸª
    $g.pushScope (main) âŸª
      $g.defsynonym â€œargcâ€ âŸ¨int @Â¹ param 1âŸ©âŸ© âŸª
      $g.defsynonym â€œargvâ€ âŸ¨char @Â² param 2âŸ©âŸ© âŸª
      $ir.beginFunction â€œmainâ€ 2 âŸª
  char x = identity ('x');
      $s.ensureInScope x âŸª
      $s.ensureInScope identity âŸª
      $s.ensureType identity âŸ¨function _ âŸ¨*od âŸ¨char @Â¹ _ _âŸ©âŸ© âŸ¨*od âŸ¨char @Â¹ _ _âŸ©âŸ©âŸ© âŸª
      $g.defsynonym x âŸ¨char @Â¹ temp 1âŸ©âŸ© âŸª
      $ir.resetArgs âŸª
      $ir.mutate âŸ¨char @Â¹ temp 1âŸ© âŸ¨char - temp â€œxâ€âŸ©  âŸª
      $ir.assignArg 1 âŸ¨char @Â¹ temp 1âŸ© âŸª
      $ir.createTemp âŸ¨char @Â¹ temp 2âŸ© âŸª
      $ir.defsynonym ğœ0 âŸ¨char @Â¹ temp 2âŸ© âŸª
      $ir.call âŸ¨function identity _ _âŸ© âŸª
      $ir.mutate ğœ0 âŸ¨char @Â¹ result 1âŸ© âŸª
  printf ("result = %c\n", x);
      $s.ensureInScope x âŸª
      $s.ensureInScope printf âŸª
      $s.ensureType printf âŸ¨function _ âŸ¨*od âŸ¨char @Â¹ _ _âŸ© âŸ¨varargsâŸ©âŸ© âŸ¨*od âŸ¨void _ _ _âŸ©âŸ©âŸ© âŸª
      $ir.resetArgs âŸª
      $ir.createTemp âŸ¨char @Â¹ temp 2âŸ© âŸª
      $ir.defsynonym ğœ1 âŸ¨char @Â¹ temp 2âŸ© âŸª
      $ir.mutate âŸ¨char @Â¹ string 2âŸ© âŸ¨char - temp â€œresult = %c\nâ€âŸ© âŸª
      $ir.assignArg 1 âŸ¨char @Â¹ string 2âŸ© âŸª
      $ir.appendArg x âŸª
      $ir.call âŸ¨function printf_ _âŸ© âŸª
      $ir.mutate ğœ1 âŸ¨char @Â¹ result 1âŸ© âŸª
      $ir.return âŸ¨od void _ _ _âŸ© âŸª
}
    $g.popScope âŸª
      $ir.endFunction â€œmainâ€ 2 âŸª


      âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«
       âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«
        âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«âŸ«
       